<div class="il-dialog" fxLayout="column" fxLayoutAlign="center center">
  <div class="header" fxLayoutAlign="start center" fxLayout="row">
    <div fxFlex fxLayoutAlign="center center" fxLayoutGap="5px">
      <span class="related">
        {{ 'Contracts related to' | translate }}
      </span>
      <span class="category-name">
        "{{ getCategoryName }}"
      </span>
    </div>
    <div fxFlex="20px" fxLayoutAlign="end center">
      <i class="pi pi-times" (click)="dialogRef.close(false)"></i>
    </div>
  </div>
  <div class="content">
    {{contractsByCategory?.length}}
    <div *ngIf="hasRecord; else noRecords" class="custom-table">
      <p-table [value]="contractsByCategory">
        <ng-template pTemplate="header">
          <tr>
            <th>Contract Name</th>
            <th>Description</th>
            <th></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-contractByCategory>
          <tr>
            <td>{{ contractByCategory?.contract?.contract_name }}</td>
            <td>{{ contractByCategory?.contract?.details }}</td>
            <td>
              <div matTooltip="Remove category from this contract" fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="10px">
                <i (click)="onDelete(contractByCategory)" class="pi pi-times red"></i>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
  <div class="footer" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="20px">
    <button mat-flat-button class="il-button default large" (click)="dialogRef.close(false)">{{ 'Cancel' | translate
      }}</button>
    <button mat-flat-button class="il-button primary large" (click)="dialogRef.close(true)">{{ 'Save' | translate
      }}</button>
  </div>
</div>
<ng-template #noRecords>
  <div class="no-records" fxFlex fxLayoutAlign="center center">No records found</div>
</ng-template>