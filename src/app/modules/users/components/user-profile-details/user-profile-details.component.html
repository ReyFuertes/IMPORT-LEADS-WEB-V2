<mat-card class="profile-card">
  <div class="card-row" fxLayout="column" fxLayoutGap="20px">
    <div>
      <div fxFlex>
        <h3>Personal Details</h3>
      </div>
      <div fxFlex="200px" fxLayoutAlign="end center">
        <button routerLink="/dashboard/contracts" mat-flat-button class="il-button default small">Close</button>
        <button [disabled]="!form.valid" (click)="updateProfile()" mat-flat-button class="il-button primary small">Update</button>
      </div>
    </div>
    <div>
      <div fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="20px" fxFlex="150px">
        <div class="img-container">
          <img *ngIf="rawImage ? rawImage:  detail?.image" [src]="rawImage ? rawImage : apiImageUrl + detail?.image" />
        </div>
        <input hidden type="file" #uploader (change)="upload($event)" />
        <span class="link" (click)="uploader?.click()">Browse</span>
      </div>
      <div fxFlex>
        <span class="self-intro">Self introduction</span>
        <div class="self-desc">{{ detail?.self_intro }}</div>
        <!-- NOTE: THIS WILL BE DISPLAYED IN ADMIN LEVEL -->
        <!-- <div>
          <div *ngIf="form" fxFlex fxLayout="row" fxLayoutGap="20px">
            <il-input fxFlex="30" [form]="form" isFloatLabel="true" controlName="position" placeholder="Position"></il-input>
            <il-dropdown-multi-select fxFlex [form]="form" controlName="role" placeHolder="Role" [options]="roles">
            </il-dropdown-multi-select>
            <il-input fxFlex="30" [form]="form" isFloatLabel="true" controlName="company_name" placeholder="Company"></il-input>
          </div>
        </div> -->
      </div>
    </div>
  </div>
  <div fxLayout="column">
    <div class="card-row">
      <div fxFlex fxLayout="column" fxLayoutGap="20px">
        <div>
          <div fxFlex>
            <h3>Contacts</h3>
          </div>
          <div (click)="isContactEditMode = !isContactEditMode" class="action-profile" fxFlex="120px" fxLayoutAlign="end center">
            <img *ngIf="!isContactEditMode" [src]="svgPath + 'edit-icon-blue.svg'" />
            <span [ngClass]="{'is-edit': isContactEditMode}">{{ !isContactEditMode ? 'Edit' : 'Close' }}</span>
          </div>
        </div>
        <div fxFlex class="item-container" fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutGap="40px">
          <div fxFlex="20">
            <div>Phone Number</div>
            <div>
              <span *ngIf="!isContactEditMode">{{ detail?.phone }}</span>
              <il-input *ngIf="isContactEditMode" [form]="form" isFloatLabel="true" controlName="phone" placeholder="Phone"></il-input>
            </div>
          </div>
          <div fxFlex="20">
            <div>Email</div>
            <div>
              <span *ngIf="!isContactEditMode">{{ detail?.email }}</span>
              <il-input *ngIf="isContactEditMode" [form]="form" isFloatLabel="true" controlName="email" placeholder="Email"></il-input>
            </div>
          </div>
          <div fxFlex="20">
            <div>Linked Profile</div>
            <div>
              <span *ngIf="!isContactEditMode">{{ detail?.company_linkedin }}</span>
              <il-input *ngIf="isContactEditMode" [form]="form" isFloatLabel="true" controlName="company_linkedin" placeholder="Company linkedin"></il-input>
            </div>
          </div>
          <div fxFlex="20">
            <div>Facebook Profile</div>
            <div>
              <span *ngIf="!isContactEditMode">{{ detail?.facebook }}</span>
              <il-input *ngIf="isContactEditMode" [form]="form" isFloatLabel="true" controlName="facebook" placeholder="Facebook"></il-input>
            </div>
          </div>
          <div fxFlex="20">
            <div>Twitter Profile</div>
            <div>
              <span *ngIf="!isContactEditMode">{{ detail?.twitter }}</span>
              <il-input *ngIf="isContactEditMode" [form]="form" isFloatLabel="true" controlName="twitter" placeholder="Twitter"></il-input>
            </div>
          </div>
          <div fxFlex="20">
            <div>Wechat ID</div>
            <div>
              <span *ngIf="!isContactEditMode">{{ detail?.wechatid }}</span>
              <il-input *ngIf="isContactEditMode" [form]="form" isFloatLabel="true" controlName="wechatid" placeholder="WeChat ID"></il-input>
            </div>
          </div>
          <div fxFlex="20">
            <div>QQ ID</div>
            <div>
              <span *ngIf="!isContactEditMode">{{ detail?.qqid }}</span>
              <il-input *ngIf="isContactEditMode" [form]="form" isFloatLabel="true" controlName="qqid" placeholder="QQid"></il-input>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div fxLayout="column">
    <div class="card-row">
      <div fxFlex fxLayout="column" fxLayoutGap="20px">
        <div>
          <div fxFlex>
            <h3>Company Details</h3>
          </div>
          <div (click)="isComDetailEditMode = !isComDetailEditMode" class="action-profile" fxFlex="120px" fxLayoutAlign="end center">
            <img *ngIf="!isComDetailEditMode" [src]="svgPath + 'edit-icon-blue.svg'" />
            <span [ngClass]="{'is-edit': isComDetailEditMode}">{{ !isComDetailEditMode ? 'Edit' : 'Close' }}</span>
          </div>
        </div>
        <div fxFlex class="item-container" fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutGap="40px">
          <div fxFlex="20">
            <div>Company Name</div>
            <div>
              <span *ngIf="!isComDetailEditMode">{{ detail?.company_name }}</span>
              <il-input *ngIf="isComDetailEditMode" fxFlex="30" [form]="form" isFloatLabel="true" controlName="company_name" placeholder="Phone"></il-input>
            </div>
          </div>
          <div fxFlex="20">
            <div>Company Linked Profile</div>
            <div>
              <span *ngIf="!isComDetailEditMode">{{ detail?.company_linkedin }}</span>
              <il-input *ngIf="isComDetailEditMode" fxFlex="30" [form]="form" isFloatLabel="true" controlName="company_linkedin" placeholder="Phone"></il-input>
            </div>
          </div>
          <div fxFlex="40">
            <div>Address</div>
            <div>
              <span *ngIf="!isComDetailEditMode">{{ detail?.company_address }}</span>
              <il-textarea *ngIf="isComDetailEditMode" fxFlex="30" [form]="form" isFloatLabel="true" controlName="company_address" placeholder="Phone"></il-textarea>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</mat-card>